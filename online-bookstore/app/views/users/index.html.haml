%p#notice= notice
%h1 Users
%table
  %thead
    %tr
      %th Email
      %th Password
      %th First name
      %th Last name
      %th Phone
      %th Address
      %th Ismanager
      %th Date joined
      %th{:colspan => "3"}
  %tbody
    = will_paginate
    - @users.each do |user|
      %tr
        %td= user.email
        %td= user.password
        %td= user.first_name
        %td= user.last_name
        %td= user.phone
        %td= user.address
        %td= user.isManager
        %td= user.date_joined
        - if logged_in? && current_user.isManager
          %td= link_to 'Promote', users_promote_url(:id =>user.id)
        - if logged_in? && current_user.id == 1
          %td= link_to 'Demote', users_demote_url(:id =>user.id)

        %td= link_to 'Show', user
        - if logged_in? && current_user.isManager
          %td= link_to 'Edit', edit_user_path(user)
          %td= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }
%br/
= will_paginate
= link_to 'New User', new_user_path
